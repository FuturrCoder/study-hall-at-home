<!--
  ~ Copyright (c) 2021.
  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rooms - Study Hall at Home</title>

    <script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/modal.css">
</head>
<body>

<div class="menubar">
    <button id="logo"><a href="/">Study Hall at Home</a></button>
    <ul id="menuLinks">
        <li class="menuButton"><a href="/">Home</a></li>
        <li class="menuButton"><a href="/about">About</a></li>
        <li id="signInButton" class="menuButton" style="float: right"><a href="javascript:signInWithGoogle()">Sign in</a></li>
        <li class="menuButton active hidden" style="float: right"><a href="/rooms">Rooms</a></li>
        <li class="menuButton hidden" style="float: right"><a href="/planner">Planner</a></li>
        <li id="signOutButton" class="menuButton hidden" style="float: right"><a href="javascript:signOut()">Sign Out</a></li>
    </ul>
</div>

<div id="root" style="margin-top: 4em">
    <h1>Rooms</h1>
    <table id="rooms"></table>
    <button id="newRoom" class="gButton" onclick="newRoom()">
        <i class="material-icons" style="vertical-align: bottom">add</i>
        <span>New Room</span>
    </button>
</div>

<div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title" aria-describedby="modal-1-content">
            <header class="modal__header">
                <h3 class="modal__title" id="modal-1-title">Create a new room</h3>
                <button class="modal__close material-icons" aria-label="Close modal" aria-controls="modal__container1" data-micromodal-close>
                    close
                </button>
            </header>
            <main class="modal__content" id="modal-1-content">
                <form id="roomForm">
                    <label for="topicInput">Topic: </label>
                    <input id="topicInput" type="text" placeholder="Biology 1" required><br>
                    <label for="expiry">How long the room will exist for (in hours, or "forever"): </label>
                    <input id="expiry" type="text" value="forever" required>
                    <input class="hidden" id="roomFormSubmit" type="submit" onclick="createRoom()">
                </form>
            </main>
            <footer class="modal__footer">
                <button class="modal__btn modal__btn-primary" id="createButton" onclick="document.getElementById('roomFormSubmit').click()">Create</button>
            </footer>
        </div>
    </div>
</div>

<footer>Copyright (c) 2021. Please email <a href="mailto:mnishioka@commschool.org" style="color: dimgray">mnishioka@commschool.org</a> with questions, comments, or concerns</footer>

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="/__/firebase/8.2.1/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="/__/firebase/8.2.1/firebase-analytics.js"></script>
<script src="/__/firebase/8.2.1/firebase-auth.js"></script>
<script src="/__/firebase/8.2.1/firebase-firestore.js"></script>

<!-- Initialize Firebase -->
<script src="/__/firebase/init.js"></script>

<script src="/scripts/index.js" type="text/javascript"></script>
<script src="/scripts/rooms.js" type="text/javascript"></script>

</body>
</html>